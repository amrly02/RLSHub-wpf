<Window x:Class="RLSHub.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="RLSHub"
        MinWidth="900" MinHeight="600"
        Width="1200" Height="750"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="CanResize"
        Background="{StaticResource ShellBackgroundBrush}">
    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome CaptionHeight="32" ResizeBorderThickness="4" GlassFrameThickness="0" CornerRadius="0" UseAeroCaptionButtons="False"/>
    </shell:WindowChrome.WindowChrome>

    <Grid>
        <!-- ═══ ANIMATED BACKGROUND (spans full window) ═══ -->
        <Canvas IsHitTestVisible="False" ClipToBounds="False">
            <!-- Soft gradient orbs -->
            <Ellipse Width="500" Height="500" Fill="{StaticResource AccentBrush}" Opacity="0.07" Canvas.Left="-180" Canvas.Top="-200">
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.07" To="0.12" Duration="0:0:6" EasingFunction="{StaticResource EaseInOut}"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
            <Ellipse Width="380" Height="380" Fill="{StaticResource AccentBrush}" Opacity="0.05" Canvas.Left="900" Canvas.Top="-130"/>
            <Ellipse Width="520" Height="520" Fill="#FFFFFF" Opacity="0.025" Canvas.Left="520" Canvas.Top="520"/>

            <!-- Falling BeamNG-style symbols -->
            <Canvas x:Name="FallingLogosCanvas" ClipToBounds="False">
                <Viewbox Width="50" Height="50" Canvas.Left="80" Canvas.Top="-40" RenderTransformOrigin="0.5,0.5">
                    <Viewbox.RenderTransform><RotateTransform Angle="15"/></Viewbox.RenderTransform>
                    <Canvas Width="24" Height="24">
                        <Path Stroke="{StaticResource BgLogoAccentBrush}" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Data="M 12,2 L 20.2,17 L 3.8,17 Z" Fill="Transparent"/>
                        <Ellipse Fill="{StaticResource BgLogoAccentBrush}" Width="5" Height="5" Canvas.Left="9.5" Canvas.Top="0"/>
                        <Ellipse Fill="{StaticResource BgLogoAccentBrush}" Width="5" Height="5" Canvas.Left="17.7" Canvas.Top="14.5"/>
                        <Ellipse Fill="{StaticResource BgLogoAccentBrush}" Width="8" Height="8" Canvas.Left="0" Canvas.Top="13"/>
                    </Canvas>
                </Viewbox>
                <Viewbox Width="46" Height="46" Canvas.Left="380" Canvas.Top="-60">
                    <Viewbox.RenderTransform><RotateTransform Angle="22"/></Viewbox.RenderTransform>
                    <Canvas Width="24" Height="24">
                        <Path Stroke="{StaticResource BgLogoPinkBrush}" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Data="M 12,2 L 20.2,17 L 3.8,17 Z" Fill="Transparent"/>
                        <Ellipse Fill="{StaticResource BgLogoPinkBrush}" Width="5" Height="5" Canvas.Left="9.5" Canvas.Top="0"/>
                        <Ellipse Fill="{StaticResource BgLogoPinkBrush}" Width="5" Height="5" Canvas.Left="17.7" Canvas.Top="14.5"/>
                        <Ellipse Fill="{StaticResource BgLogoPinkBrush}" Width="8" Height="8" Canvas.Left="0" Canvas.Top="13"/>
                    </Canvas>
                </Viewbox>
                <Viewbox Width="44" Height="44" Canvas.Left="1050" Canvas.Top="-90">
                    <Viewbox.RenderTransform><RotateTransform Angle="-5"/></Viewbox.RenderTransform>
                    <Canvas Width="24" Height="24">
                        <Path Stroke="{StaticResource BgLogoCyanBrush}" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Data="M 12,2 L 20.2,17 L 3.8,17 Z" Fill="Transparent"/>
                        <Ellipse Fill="{StaticResource BgLogoCyanBrush}" Width="5" Height="5" Canvas.Left="9.5" Canvas.Top="0"/>
                        <Ellipse Fill="{StaticResource BgLogoCyanBrush}" Width="5" Height="5" Canvas.Left="17.7" Canvas.Top="14.5"/>
                        <Ellipse Fill="{StaticResource BgLogoCyanBrush}" Width="8" Height="8" Canvas.Left="0" Canvas.Top="13"/>
                    </Canvas>
                </Viewbox>

                <!-- RLS team logos -->
                <Image Width="46" Height="46" Canvas.Left="280" Canvas.Top="-20" Tag="rls-logo-fire" Opacity="0.35" RenderTransformOrigin="0.5,0.5">
                    <Image.RenderTransform><RotateTransform Angle="-6"/></Image.RenderTransform>
                </Image>
                <Image Width="42" Height="42" Canvas.Left="620" Canvas.Top="-60" Tag="rls-logo-redline" Opacity="0.35" RenderTransformOrigin="0.5,0.5">
                    <Image.RenderTransform><RotateTransform Angle="10"/></Image.RenderTransform>
                </Image>
                <Image Width="40" Height="40" Canvas.Left="920" Canvas.Top="-50" Tag="rls-logo-fire" Opacity="0.35" RenderTransformOrigin="0.5,0.5">
                    <Image.RenderTransform><RotateTransform Angle="-8"/></Image.RenderTransform>
                </Image>
            </Canvas>
        </Canvas>

        <!-- ═══ MAIN LAYOUT: SIDEBAR + CONTENT ═══ -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- ──── SIDEBAR ──── -->
            <Border Grid.Column="0" Background="{StaticResource SidebarBackgroundBrush}" BorderBrush="{StaticResource SidebarSeparatorBrush}" BorderThickness="0,0,1,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Logo / title in caption area (draggable) -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="18,0,0,0">
                        <TextBlock Text="RLSHub" FontSize="13" FontWeight="SemiBold" Foreground="{StaticResource TextPrimaryBrush}"/>
                    </StackPanel>

                    <!-- Branding -->
                    <StackPanel Grid.Row="1" Margin="20,20,20,24">
                        <TextBlock Text="RLS" FontSize="26" FontWeight="Bold" Foreground="{StaticResource AccentBrush}" Margin="0,0,0,-4"/>
                        <TextBlock Text="Career Hub" FontSize="13" Foreground="{StaticResource TextMutedBrush}"/>
                    </StackPanel>

                    <!-- Nav items + sliding indicator -->
                    <Grid Grid.Row="2">
                        <Border x:Name="NavIndicatorStrip" HorizontalAlignment="Left" VerticalAlignment="Top" Width="3" Margin="0,0,0,0">
                            <Border x:Name="NavIndicator" Width="3" CornerRadius="2" Background="{StaticResource AccentBrush}" Height="36" VerticalAlignment="Top"/>
                        </Border>

                        <StackPanel x:Name="NavBarBorder" Margin="0,0,0,0">
                            <ToggleButton x:Name="NavDashboard" Style="{StaticResource NavToggleStyle}" Tag="dashboard" IsChecked="True" Click="Nav_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="&#xE80F;" FontFamily="Segoe MDL2 Assets" FontSize="15" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="Dashboard" VerticalAlignment="Center"/>
                                </StackPanel>
                            </ToggleButton>
                            <ToggleButton x:Name="NavCarSwap" Style="{StaticResource NavToggleStyle}" Tag="carswap" Click="Nav_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="&#xE7B8;" FontFamily="Segoe MDL2 Assets" FontSize="15" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="CarSwap" VerticalAlignment="Center"/>
                                </StackPanel>
                            </ToggleButton>
                            <ToggleButton x:Name="NavUpdates" Style="{StaticResource NavToggleStyle}" Tag="updates" Click="Nav_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                                        <TextBlock Text="&#xE895;" FontFamily="Segoe MDL2 Assets" FontSize="15" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                        <TextBlock Text="Updates" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <Ellipse x:Name="UpdatesBadge" Grid.Column="1" Width="6" Height="6" Fill="{StaticResource AccentBrush}" VerticalAlignment="Center" Margin="8,0,0,0" Visibility="Collapsed"/>
                                </Grid>
                            </ToggleButton>
                            <ToggleButton x:Name="NavSettings" Style="{StaticResource NavToggleStyle}" Tag="settings" Click="Nav_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="&#xE713;" FontFamily="Segoe MDL2 Assets" FontSize="15" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="Settings" VerticalAlignment="Center"/>
                                </StackPanel>
                            </ToggleButton>
                            <ToggleButton x:Name="NavAbout" Style="{StaticResource NavToggleStyle}" Tag="about" Click="Nav_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="&#xE897;" FontFamily="Segoe MDL2 Assets" FontSize="15" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="About" VerticalAlignment="Center"/>
                                </StackPanel>
                            </ToggleButton>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Border>

            <!-- ──── CONTENT AREA ──── -->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="32"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Title bar (drag area + window controls) -->
                <Border x:Name="TitleBarBorder" Grid.Row="0" Background="Transparent" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Stretch">
                        <Button x:Name="MinimizeButton" Style="{StaticResource TitleBarButtonStyle}" Content="&#xE921;" FontFamily="Segoe MDL2 Assets" FontSize="10" Click="MinimizeButton_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True"/>
                        <Button x:Name="MaximizeButton" Style="{StaticResource TitleBarButtonStyle}" FontFamily="Segoe MDL2 Assets" FontSize="10" Click="MaximizeButton_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True">
                            <TextBlock x:Name="MaximizeButtonIcon" Text="&#xE740;"/>
                        </Button>
                        <Button x:Name="CloseButton" Style="{StaticResource TitleBarCloseButtonStyle}" Content="&#xE8BB;" FontFamily="Segoe MDL2 Assets" FontSize="10" Click="CloseButton_Click" shell:WindowChrome.IsHitTestVisibleInChrome="True"/>
                    </StackPanel>
                </Border>

                <!-- Page header (title + subtitle) -->
                <StackPanel Grid.Row="1" Margin="36,8,36,4">
                    <TextBlock x:Name="HeaderTitle" Style="{StaticResource SectionHeaderTextStyle}" Text="Dashboard"/>
                    <TextBlock x:Name="HeaderSubtitle" Style="{StaticResource HeroSubtitleTextStyle}" Text="RLS Career Overhaul command center." Margin="0,2,0,0"/>
                </StackPanel>

                <!-- Content area -->
                <Grid x:Name="ContentHost" Grid.Row="2" ClipToBounds="True">
                    <ContentControl x:Name="ContentFrame" Background="Transparent"/>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>
